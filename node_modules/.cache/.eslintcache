[{"/Users/gogagureshidze/Desktop/untitled folder/src/index.js":"1","/Users/gogagureshidze/Desktop/untitled folder/src/App.js":"2","/Users/gogagureshidze/Desktop/untitled folder/src/context/ChatContext.js":"3","/Users/gogagureshidze/Desktop/untitled folder/src/context/AuthContext.js":"4","/Users/gogagureshidze/Desktop/untitled folder/src/firebase.js":"5","/Users/gogagureshidze/Desktop/untitled folder/src/pages/Register.jsx":"6","/Users/gogagureshidze/Desktop/untitled folder/src/pages/Login.jsx":"7","/Users/gogagureshidze/Desktop/untitled folder/src/pages/Home.jsx":"8","/Users/gogagureshidze/Desktop/untitled folder/src/components/Sidebar.jsx":"9","/Users/gogagureshidze/Desktop/untitled folder/src/components/Chat.jsx":"10","/Users/gogagureshidze/Desktop/untitled folder/src/components/Search.jsx":"11","/Users/gogagureshidze/Desktop/untitled folder/src/components/Input.jsx":"12","/Users/gogagureshidze/Desktop/untitled folder/src/components/Navbar.jsx":"13","/Users/gogagureshidze/Desktop/untitled folder/src/components/Chats.jsx":"14","/Users/gogagureshidze/Desktop/untitled folder/src/components/Messages.jsx":"15","/Users/gogagureshidze/Desktop/untitled folder/src/components/Message.jsx":"16"},{"size":468,"mtime":1670022337555,"results":"17","hashOfConfig":"18"},{"size":945,"mtime":1669578119375,"results":"19","hashOfConfig":"18"},{"size":900,"mtime":1670022843786,"results":"20","hashOfConfig":"18"},{"size":608,"mtime":1669574284027,"results":"21","hashOfConfig":"18"},{"size":647,"mtime":1669501562518,"results":"22","hashOfConfig":"18"},{"size":2978,"mtime":1670061893401,"results":"23","hashOfConfig":"18"},{"size":1168,"mtime":1669661122017,"results":"24","hashOfConfig":"18"},{"size":305,"mtime":1669418636054,"results":"25","hashOfConfig":"18"},{"size":329,"mtime":1669418625524,"results":"26","hashOfConfig":"18"},{"size":695,"mtime":1670023076477,"results":"27","hashOfConfig":"18"},{"size":2744,"mtime":1669913792467,"results":"28","hashOfConfig":"18"},{"size":2662,"mtime":1670063019894,"results":"29","hashOfConfig":"18"},{"size":619,"mtime":1669578369820,"results":"30","hashOfConfig":"18"},{"size":1387,"mtime":1670022992920,"results":"31","hashOfConfig":"18"},{"size":838,"mtime":1670023685806,"results":"32","hashOfConfig":"18"},{"size":988,"mtime":1670028767052,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"105t9ot",{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/gogagureshidze/Desktop/untitled folder/src/index.js",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/App.js",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/context/ChatContext.js",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/context/AuthContext.js",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/firebase.js",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/pages/Register.jsx",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/pages/Login.jsx",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/pages/Home.jsx",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/components/Sidebar.jsx",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/components/Chat.jsx",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/components/Search.jsx",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/components/Input.jsx",["83","84"],[],"import React, { useContext, useState } from \"react\";\nimport Img from \"../img/img.png\";\nimport Attach from \"../img/attach.png\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { ChatContext } from \"../context/ChatContext\";\nimport {\n  arrayUnion,\n  doc,\n  serverTimestamp,\n  Timestamp,\n  updateDoc,\n} from \"firebase/firestore\";\nimport { db, storage } from \"../firebase\";\nimport { v4 as uuid } from \"uuid\";\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\n\nconst Input = () => {\n  const [loading, setLoading] = useState(false)\n\n  const [text, setText] = useState(\"\");\n  const [img, setImg] = useState(null);\n\n  const { currentUser } = useContext(AuthContext);\n  const { data } = useContext(ChatContext);\n\n  const handleSend = async () => {\n    if (img) {\n      const storageRef = ref(storage, uuid());\n\n      const uploadTask = uploadBytesResumable(storageRef, img);\n\n      uploadTask.on(\n        (error) => {\n          console.log(error)\n        },\n        () => {\n          getDownloadURL(uploadTask.snapshot.ref).then(async (downloadURL) => {\n            await updateDoc(doc(db, \"chats\", data.chatId), {\n              messages: arrayUnion({\n                id: uuid(),\n                text,\n                senderId: currentUser.uid,\n                date: Timestamp.now(),\n                img: downloadURL,\n              }),\n            });\n          });\n        }\n      );\n    } else {\n      await updateDoc(doc(db, \"chats\", data.chatId), {\n        messages: arrayUnion({\n          id: uuid(),\n          text,\n          senderId: currentUser.uid,\n          date: Timestamp.now(),\n        }),\n      });\n    }\n\n    await updateDoc(doc(db, \"userChats\", currentUser.uid), {\n      [data.chatId + \".lastMessage\"]: {\n        text,\n      },\n      [data.chatId + \".date\"]: serverTimestamp(),\n    });\n\n    await updateDoc(doc(db, \"userChats\", data.user.uid), {\n      [data.chatId + \".lastMessage\"]: {\n        text,\n      },\n      [data.chatId + \".date\"]: serverTimestamp(),\n    });\n\n    setText(\"\");\n    setImg(null);\n  };\n  return (\n    <div className=\"input\">\n      <input\n        type=\"text\"\n        placeholder=\"Type something...\"\n        onChange={(e) => setText(e.target.value)}\n        value={text}\n      />\n      <div className=\"send\">\n        <img src={Attach} alt=\"\" />\n        <input\n          type=\"file\"\n          style={{ display: \"none\" }}\n          id=\"file\"\n          onChange={(e) => setImg(e.target.files[0])}\n        />\n        <label htmlFor=\"file\">\n          <img src={Img} alt=\"\" />\n        </label>\n        <button onClick={handleSend}>Send</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Input;\n","/Users/gogagureshidze/Desktop/untitled folder/src/components/Navbar.jsx",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/components/Chats.jsx",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/components/Messages.jsx",[],[],"/Users/gogagureshidze/Desktop/untitled folder/src/components/Message.jsx",[],[],{"ruleId":"85","severity":1,"message":"86","line":18,"column":10,"nodeType":"87","messageId":"88","endLine":18,"endColumn":17},{"ruleId":"85","severity":1,"message":"89","line":18,"column":19,"nodeType":"87","messageId":"88","endLine":18,"endColumn":29},"no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar","'setLoading' is assigned a value but never used."]